WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.k15t.scroll.scroll-platform:getting-started-webresources', location = 'com/k15t/scroll/platform/ui/common/utils.js' */
(function(j,e,k){window.Scroll=window.Scroll||{};var a=window.Scroll;if(a.Versions&&a.Versions.Utils){return}a.Versions=a.Versions||{};a.Versions.Utils=a.Versions.Utils||{};a.Versions._=k;if(a.Versions._.findWhere===undefined){a.Versions._.findWhere=function(n,m){return this.where(n,m,true)}}var i=e({});a.Versions.Utils.htmlEscape=function(m){return e("<div/>").text(m).html()};a.Versions.Utils.isScrollSpaceToolsUrl=function(){return window.location.pathname.indexOf("/plugins/scroll-runtime-confluence/scroll-addons")>-1};var c=["/pages/viewpageattachments.action","/pages/viewpreviousversions.action","/pages/viewinfo.action","/pages/reorderpages.action","/pages/diffpagesbyversion.action"];a.Versions.Utils.isConfluenceInfoPageUrl=function(){return c.reduce(function(n,m){return n||window.location.pathname.indexOf(m)>-1},false)};a.Versions.Utils.moduleKeys={isTargetSpace:"isTargetSpace",enableVersionManagement:"enableVersionManagement",enableTranslation:"enableTranslation",workflowType:"workflowType",enableVariants:"enableVariants",enablePermalinks:"enablePermalinks",enableSeo:"enableSeo"};a.Versions.Utils.isAnyModuleEnabled=function(){if(a.Versions.Context&&a.Versions.Context.space&&a.Versions.Context.space.config){return Array.prototype.slice.call(arguments,0).reduce(function(m,n){return m||!!a.Versions.Context.space.config[n]},false)}return false};a.Versions.Utils.permissions={AdministerSpace:"AdministerSpace",Contribute:"Contribute",ManageContent:"ManageContent",Review:"Review",Translate:"Translate",View:"View"};a.Versions.Utils.hasScrollPermission=function(){if(a.Versions.Context&&a.Versions.Context.user&&a.Versions.Context.user.permissions){return Array.prototype.slice.call(arguments,0).reduce(function(n,m){return n||!!a.Versions.Context.user.permissions[m]},false)}return false};a.Versions.urlEncode=function(m){return encodeURI(m.replace(/ /g,"+"))};a.Versions.select2VersionPickerFormat=function(p){var n;var q;var m;var r;if(p&&p.element&&p.element[0]){n=p.element[0].getAttribute("data-color");q=p.element[0].getAttribute("title");m=p.element[0].getAttribute("data-background-color");r=p.element[0].getAttribute("data-border-color")}var o="background-color: transparent; border-color: transparent;";if(n){o="background-color: "+n+"; border-color: "+n+";"}else{if(m&&r){o="background-color: "+m+"; border-color: "+r+";"}}return'<div class="sv-manage-versions-select2-table">   <div class="sv-manage-versions-select2-row">       <div class="sv-manage-versions-select2-cell">           <span class="sv-manage-versions-select2-dot" style="'+o+'"></span>       </div>       <div class="sv-manage-versions-select2-cell sv-manage-versions-select2-label" '+(q?' title="'+q+'" ':"")+">"+p.text+"</div>   </div></div>"};a.Versions.propertyPathToObject=function(q,p,o){var n,m;for(n=0,p=p.split("."),m=p.length;n<m;n++){if(!q||typeof q!=="object"){return o}q=q[p[n]]}if(q===undefined){if(typeof o==="function"){return function(){o(arguments,q,p)}}return o}return q};a.Versions.Utils.define=function(n,p){var q=n.split("."),m=window;for(var o=0;o<q.length;o++){if(!(q[o] in m)){if((o==q.length-1)&&p){m[q[o]]=p}else{m[q[o]]={}}}m=m[q[o]]}return m};a.Versions.Utils.escapeCssSelector=function(m){var n=["#","&","~","=",">","'","@",":",'"',"!",";",","];var p=[".","*","+","|","[","]","(",")","/","^","$"];var o=new RegExp("("+n.join("|")+"|\\"+p.join("|\\")+")","g");return m.replace(o,"\\$1")};a.Versions.Utils.parseError=function(m){var n;try{n=JSON.parse(m)}catch(o){n={title:"Unknown Error",message:m}}return n};a.Versions.Utils.getDomPath=function b(r){var m=[];while(r.parentNode!=null){var q=0;var n=0;for(var p=0;p<r.parentNode.childNodes.length;p++){var o=r.parentNode.childNodes[p];if(o.nodeName==r.nodeName){if(o===r){n=q}q++}}if(r.hasAttribute("id")&&r.id!=""){m.unshift(r.nodeName.toLowerCase()+"#"+r.id)}else{if(q>1){m.unshift(r.nodeName.toLowerCase()+":eq("+n+")")}else{m.unshift(r.nodeName.toLowerCase())}}r=r.parentNode}return m.slice(1)};a.Versions.Utils.showMessages=function(){var m=e("#scroll-message-bar");if(m.length){if(a.Versions.Context.space.messages.length&&!a.Versions.Context.space.messages.alreadyShown){a.Versions.Context.space.messages.alreadyShown=true;a.Versions.Context.space.messages.forEach(function(n){if(n.severity){j.messages[n.severity.toLowerCase()].apply(j.messages,["#scroll-message-bar",{id:n.id?n.id.replace(/\./g,"-"):n.id,body:n.text,closeable:n.closeable}])}});j.log("[Scroll] messagesInsert inserted "+a.Versions.Context.space.messages.length+" into the page")}}};a.Versions.Utils.parseUrlFromHtmlMacroParameters=function(m,p){var q=e(p).data("macro-parameters");var o=new RegExp(m+"=([^|]*)").exec(q);var n=null;if(o&&o.length==2){n=o[1];if(n.indexOf("pageId\\=")>=-1){n=n.replace("pageId\\=","pageId=")}}return n};a.Versions.Utils.insertAtSelector=function(r,t){var q="before|after|prepend|append|stop";if(!r){return}var n=new RegExp("("+q+"):s*(.*)");var u=n.exec(r);var s=null;var w=null;if(u){var m=u[1];s=u[2];var p=e(s);if(p.length&&!("stop"===m)){var v=p.length>1?e(p[0]):p;var o=v[m];w=o.apply(v,[t])}}else{throw"The jQuerySelectorConfig "+r+" is not valid. A jQuery selector config is a string starting with "+q+" followed by a colon ':' followed by a jQuery selector."}return{selector:s,result:w,inserted:t}};a.Versions.Utils.trimToLength=function(n,m){return n.length>m?jQuery.trim(n).substring(0,m).split(" ").join(" ")+"...":n};a.Versions.Utils.isDefaultTheme=function(){return e("body").hasClass("theme-default")};a.Versions.Utils.isDocumentationTheme=function(){return e("body").hasClass("theme-documentation")};a.Versions.Utils.isRefinedWikiTheme=function(){return e("body").hasClass("RefinedWikiTheme50")||e("body").hasClass("rw_version_6")};a.Versions.Utils.isEnterpriseTheme=function(){return e("body").hasClass("getu-skin")};a.Versions.Utils.subscribeForEvent=function(m,n){i.on(m,n)};a.Versions.Utils.triggerEvent=function(m,n){i.trigger(m,[n])};var h="https://801709a4b6164fe18260a184212088c6@sentry.io/124254";var d;a.Versions.Utils.initSentry=function(){var o=e("#sv-error-tracking").attr("content")==="true";var n=window.Sentry;if(!o){throw new Error("Error tracking is not enabled")}if(d){throw new Error("Sentry is already initialized")}var m=new n.BrowserClient({dsn:h,release:a.Versions.Context.product.version,beforeBreadcrumb:function(q,p){return null}});d=new n.Hub(m)};var g={error:function(m){if(m instanceof Error){return{type:"error",error:m,isExpected:!!m.isExpected}}},errorResponse:function(m){if(m&&"status" in m&&"statusText" in m){return{type:"errorResponse",error:new Error("status: "+m.status+" statusText: "+m.statusText),status:m.status,isExpected:!!m.isExpected}}},unknown:function(m){var n;if(typeof m==="string"||m instanceof String){n=n}else{n=JSON.stringify(m)}return{type:"unknown",error:new Error(n)}}};var l={skipStatusCodes:function(o,n){var m=n.skipStatusCodes||[];if(o.type!=="errorResponse"||!m.length){return false}return m.indexOf(o.status)>-1},skipExpected:function(m){return !!m.isExpected},skipDevEnvironmentUrls:function(o,m){var n=m.skipDevEnvironmentUrls||[];if(!n.length){return false}return n.indexOf(window.location.hostname)>-1},skipSnapshots:function(){return !!/SNAPSHOT/.test(a.Versions.Context.product.version)}};var f={parsers:["error","errorResponse"],filters:["skipStatusCodes","skipExpected","skipDevEnvironmentUrls","skipSnapshots"],skipStatusCodes:[401,403,504],skipDevEnvironmentUrls:["localhost","127.0.0.1"],tags:{baseUrl:j.Meta.get("base-url")}};a.Versions.Utils.reportErrorDefaultOptions=f;a.Versions.Utils.reportError=function(o,n){var q=e("#sv-error-tracking").attr("content")==="true";if(!q){return false}var m=e.extend(true,f,n);var r=m.parsers.reduce(function(t,v){var u;if(t){return t}if(typeof v==="function"){u=v}else{if(typeof v==="string"&&v in g){u=g[v]}}if(!u){return t}return u(o,m)},null);if(!r){r=parsers.unknown(o,m)}var s=m.filters.some(function(t){if(typeof t==="function"){return t(r,m)}if(typeof t==="string"&&t in l){return l[t](r,m)}});if(s){return false}if(!d){try{a.Versions.Utils.initSentry()}catch(p){console.error(p.message);return false}}d.withScope(function(t){Object.keys(m.tags).forEach(function(u){t.setExtra(u,m.tags[u])});d.captureException(r.error)});return true};a.Versions.Utils.toInitInEditor=function(m){j.toInit(function(){if(j.Editor&&j.Editor.currentEditMode){m()}else{j.bind("init.rte",m)}})}})(require("ajs"),require("jquery"),require("underscore"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.k15t.scroll.scroll-platform:getting-started-webresources', location = '/com/k15t/scroll/platform/ui/common/dialog.soy' */
// This file was automatically generated from dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Scroll.Versions.Templates.Dialog.
 */

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.Dialog == 'undefined') { Scroll.Versions.Templates.Dialog = {}; }


Scroll.Versions.Templates.Dialog.userMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-message closeable shadowed ' + soy.$$escapeHtml(opt_data.severity) + '">' + ((opt_data.title) ? '<p class="title"><span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.severity) + '"></span>' + ((opt_data.autoEscape == false) ? '<strong>' + soy.$$filterNoAutoescape(opt_data.title) + '</strong>' : '<strong>' + soy.$$escapeHtml(opt_data.title) + '</strong>') + '</p>' : '') + ((opt_data.message) ? (opt_data.autoEscape == false) ? '<p>' + soy.$$filterNoAutoescape(opt_data.message) + '</p>' : '<p>' + soy.$$escapeHtml(opt_data.message) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  Scroll.Versions.Templates.Dialog.userMessage.soyTemplateName = 'Scroll.Versions.Templates.Dialog.userMessage';
}


Scroll.Versions.Templates.Dialog.logo = function(opt_data, opt_ignored) {
  return '<div id="sv-logo" class="sv-logo-table" ' + ((opt_data.customStyles) ? 'style="' + soy.$$escapeHtml(opt_data.customStyles) + '"' : '') + '><div class="sv-logo-cell-one"></div><div class="sv-logo-cell-two"></div><div class="sv-logo-cell-three"></div></div>';
};
if (goog.DEBUG) {
  Scroll.Versions.Templates.Dialog.logo.soyTemplateName = 'Scroll.Versions.Templates.Dialog.logo';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.k15t.scroll.scroll-platform:getting-started-webresources', location = '/com/k15t/scroll/platform/ui/common/dialog.js' */
require(["ajs","jquery"],function(a,b){window.Scroll=window.Scroll||{};window.Scroll=b.extend(true,window.Scroll,{Versions:{}});if(Scroll.Versions.Dialog){return}Scroll.Versions.Dialog=function(d){var f;var c;if(d.maximize===undefined){d.maximize=false}d.width=(d.maximize?(window.innerWidth-30):(d.width||800));d.height=(d.maximize?(window.innerHeight-80):(d.height||480));d.keypressListener=function(n){if(n.keyCode===27&&f.popup.element.is(":visible")){var h=f.popup.element;var m=parseInt(h.css("zIndex"),10);var g=b(".aui-dialog:visible");for(var k=0;k<g.size();++k){var j=g.eq(k);var l=parseInt(j.css("zIndex"),10);if(l>m&&!h.is(j)){return}}n.stopImmediatePropagation();f.hide()}};f=b.extend(new a.Dialog(d||{}),this);if(d.maximize){b(window).resize(function(){var h=f.popup.element;var k=(b(window).height()-80);var i=(b(window).width()-30);var g=-(b(window).height()-80)/2;var j=-(b(window).width()-30)/2;b(f.popup.element).css({height:k,width:i,"margin-top":g,"margin-left":j});b(h).find(".dialog-panel-body").height((b(window).height()-80)-106)})}f.showUserMessage=function(g,k,i,j){g=g.toLowerCase();j=j===null||j===undefined?true:j;a.log("[Scroll Versions] user message ("+g+"): "+i);var h=b(f.getCurrentPanel().body);if(!h.find(".user-feedback").length){h.prepend('<div class="user-feedback" />')}h.find(".user-feedback").html(Scroll.Versions.Templates.Dialog.userMessage({severity:g,message:i,title:k,autoEscape:j}))};f.showHtmlUserMessage=function(g,j,i){if(arguments.length>3){var k=Array.prototype.slice.call(arguments).slice(3);b(k).each(function(l,m){k[l]=a.escapeHtml(m)});j=a.format.apply(a,[j].concat(k));i=a.format.apply(a,[i].concat(k))}g=g.toLowerCase();a.log("[Scroll Versions] user message ("+g+"): "+i);var h=b(f.getCurrentPanel().body);if(!h.find(".user-feedback").length){h.prepend('<div class="user-feedback" />')}h.find(".user-feedback").html(Scroll.Versions.Templates.Dialog.userMessage({severity:g,message:i,title:j,autoEscape:false}))};f.hideUserMessages=function(){b(f.popup.element).find(".user-feedback").html("")};f.find=function(g){return b(f.popup.element).find(g)};f.onSuccess=function(i,l,j,g,h){f.enable();j.hide();if(g.urlPath){var k=contextPath+g.urlPath;f.showUserMessage(h,g.userMessageTitle,a.format(g.userMessageDetails,k));var m=setTimeout(function(){if(!f.opts.beforeRedirectCallback||f.opts.beforeRedirectCallback(f)){window.location.href=k}},f.opts.waitBeforeRedirect)}else{f.showUserMessage(h,g.userMessageTitle,a.format(g.userMessageDetails,k));var m=setTimeout(function(){f.cancel()},f.opts.waitBeforeRedirect)}};f.submit=function(i,l,h,g){var k=undefined;if(h&&h.length){k=h}if(!k){k=i.getCurrentPanel().body.find("form")}if(!k){a.log("[Scroll Versions] Form for dialog '"+f.opts.header+"' not found");return}var j=b(f.popup.element).find(".dialog-button-panel button");b.ajax({type:k.attr("method"),url:k.attr("action"),contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:k.serialize(),timeout:f.opts.ajaxTimeout,beforeSend:function(n,m){f.disable();j.attr("disabled",true)},complete:function(n,p){k.find(".error").html("");var m;try{m=jQuery.parseJSON(n.responseText)}catch(o){f.enable();k.hide();a.log("[Scroll Versions] Could not parse response text: "+n.responseText);f.showUserMessage("error","Unknown Error","An unknown error has occurred while processing the server response. Please contact your administrator.");return}if(p==="success"&&n.status==200){f.opts.onSuccess(i,l,k,m,m.severity)}else{if(p==="error"&&n.status==400){f.enable();j.attr("disabled",false);f.hideUserMessages();b.each(m.fieldErrors,function(q,r){a.log("[Scroll Versions] Field Validation Error with '"+q+"': "+r);b(k.find("[name="+q+"] ~ .error")).html(r).show()});f.showUserMessage("error",m.title,m.message)}else{if(p==="error"&&(b.inArray(n.status,[403,404,409,500,503])!=-1)){f.enable();k.hide();f.showUserMessage("error",m.title,m.message,m.autoEscape)}else{f.showUserMessage("error","Unknown Error","An unknown error has occurred while processing the server response. Please contact your administrator.")}}}}})};f._fixBlankets=function(){this.$blanket=a("div").addClass("sv-dialog-blanket");this.$blanket.css("z-index",this.popup.element.css("z-index")-1).appendTo("body").show().click(function(){if(d.closeOnOutsideClick){f.close()}});a.dim.$dim.hide()};f.addClass=function(g){b(f.popup.element).addClass(g)};f.cancel=function(){f.hideUserMessages();b(f.popup.element).find("form.aui input, form.aui select").each(function(g){b(this).val(b(this).attr("data-original-value"))});b(f.popup.element).find("form.aui .error").html("");b(f.popup.element).find(".dialog-button-panel button").attr("disabled",false);b(f.popup.element).find("form").show();f.hide()};f._hide=f.hide;f.hide=function(){f.resetBodyCssSettings();f._hide();this.$blanket.remove()};f._remove=f.remove;f.remove=function(){f.resetBodyCssSettings();f._remove();this.$blanket.remove()};f._addCancel=f.addCancel;f.addCancel=function(g){f.addLink("Cancel",g||f.cancel)};f.addClose=function(g){f.addButton("Close",g||f.cancel)};f._addHeader=f.addHeader;f.addHeader=function(h,g){f._addHeader(h,g||"")};f.addNextPageButton=function(g){f.addButton(g||"Next",function(h){h.nextPage()})};f.resetBodyCssSettings=function(){b("body").css("position",c)};f._show=f.show;var e=false;c=b("body").css("position");f.show=function(){if(!e){b(f.popup.element).find("form.aui input, form.aui select").each(function(h){b(this).attr("data-original-value",b(this).val())});if(!d.suppressFormSubmit){f.find("form").bind("submit",function(h){h.preventDefault();f.submit(f,null,b(this))});b(f.popup.element).find("form input, form select").unbind("keypress.submit_on_enter").bind("keypress.submit_on_enter",function(h){if(h.keyCode==13){f.submit(f)}})}if(!d.omitK15tFooter){b(f.popup.element).find(".dialog-button-panel").prepend(Scroll.Versions.Templates.Dialog.logo({customStyles:null}))}var g=f.opts.tabIdxStart;b("input, select, button, .button-panel-link").each(function(){if(this.type!="hidden"){var h=b(this);h.attr("tabindex",g);g++}});b("body").css({position:"static"});e=true}f.gotoPage(0);f._show();f._fixBlankets()};f.opts=b.extend({maximize:d.maximize||false,closeOnOutsideClick:d.closeOnOutsideClick||false,onSuccess:d.onSuccess||f.onSuccess,ajaxTimeout:d.ajaxTimeout||12000,waitBeforeRedirect:d.waitBeforeRedirect||500,suppressFormSubmit:d.suppressFormSubmit||false},d);return f};Scroll.Versions.Dialog.alert=function(e,c){var d=new Scroll.Versions.Dialog({id:"sv-alert",height:240,width:640});d.addHeader(e.title);d.addPanel("","","sv-dialog-alert");d.showUserMessage("error",e.message,"",c);d.addButton("Close",function(){d.hide();d=null});d.show()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.k15t.scroll.scroll-platform:getting-started-webresources', location = '/com/k15t/scroll/platform/ui/gettingstarted/getting-started.js' */
require(["ajs","jquery"],function(l,f){var a={path:"/"};var p;var k;var w=function(){var y="vsn-getting-started-page";var B="vsn-getting-started-page-index";var G="vsn-getting-started-admin";var I={itemSelector:m({defaultTheme:"#space-tools-menu-trigger",docTheme:"#browseMenu",refinedWikiTheme:"#browse-space-menu-link",enterpriseTheme:"#browse-menu-link"}),title:"Scroll Versions installed",text:l.format("Scroll Versions has been installed on this system. Feel free to \u003ca href=\u0022{0}\u0022\u003eactivate\u003c/a\u003e it in this space via the Scroll Add-ons menu.",l.params.baseUrl+"/plugins/scroll-runtime-confluence/scroll-addons.action?key="+l.params.spaceKey+"#/versions-spacetools/versions"),opts:{showLater:true,gravity:Scroll.Versions.Utils.isDefaultTheme()?"w":"n",persistent:false}};var H=[{itemSelector:"#sv-scmtb-vsn-version-picker",title:"Version picker",text:"In the version picker, authors can select their working version and begin working on versioned content."},{itemSelector:"#sv-byline-version-info",title:"Page byline",text:"All information about the current page is displayed here. This includes the page versions, and (if activated) the workflow state.",last:true},{itemSelector:"#sv-scmtb-misc-picker",title:"Scroll Versions menu",text:"The space related actions are stored here. You can directly publish the selected version, compare versions and spaces, or switch to the Public view."},{itemSelector:"#sv-dropdown-link",title:"Scroll Versions dropdown",text:"All page-related actions are stored here. E.g. you can compare page versions, convert, reschedule or delete a specific page version."}];var A=[{title:"Multiple Versions",description:"With Scroll Versions you can manage and author multiple versions of your documentation in a single space. Add or update pages of the documentation, and publish that version when the product is released.",image:"VSN_MultipleVersions270.png"},{title:"Publish your content",description:"Make your Confluence content available with a few clicks. Just select your version, variant, and language to be published to a new or existing space \u2013 its even possible to publish to another Confluence system.",image:"VSN_PublishYourContent270.png"},{title:"Duplicate page titles",description:"With Scroll Versions you can use duplicate page titles within a single space. You can also rename a page without breaking links, as the link is detached from the page title.",image:"VSN_DuplicatePagetitles270.png"}];var x=function(K){if(J(K)){e(I,function(){h(G)},function(){s(G)})}else{if(F(K)){g(0,H,function(L){f.cookie(B,L,a)},function(){s(y);f.cookie(B,null,a)})}}};var E=function(){if(D()){i("Scroll Versions Getting Started",A,function(K){window.location.href=l.Meta.get("base-url")+"/plugins/scroll-runtime-confluence/scroll-addons.action?key="+K+"#/versions-spacetools/versions"})}};var D=function(){return window.location.search.indexOf("scrollGettingStarted=VSN")!=-1};var F=function(K){if(K.displayGettingStartedMessagesToUsers&&!o(y)&&c()&&z()>0&&(Scroll.Versions.Context.user.permissions.Contribute||Scroll.Versions.Context.user.permissions.ManageContent||Scroll.Versions.Context.user.permissions.Review||Scroll.Versions.Context.user.permissions.Translate||Scroll.Versions.Context.user.permissions.AdministerSpace)){return true}return false};var z=function(){if(c()){return Scroll.Versions.Context.space.allVersions.length}return 0};var J=function(K){if(K.displayGettingStartedMessagesToAdmins&&!o(G)&&j()&&v(K)&&(!c()||Scroll.Versions.Context.space.allVersions.length<=0)){return true}return false};var C=function(){return(o(y)&&o(G))};return{start:x,startFromDashboard:E,isAllDone:C}};var r=function(B,A,y,x){var B=parseInt(B);var C=A[B];if(C){var D="sv-getting-started-dialog"+B;if((f.isFunction(C.itemSelector)?C.itemSelector():f(C.itemSelector)).length>0){var z=u(B,C,D,"hint",A);if(B<A.length){f("#sv-getting-started-dialog-next-button",z).click(function(){z.hide();y(B+1);r(B+1,A,y,x)})}if(B>0){f("#sv-getting-started-dialog-back-button",z).click(function(){z.hide();y(B-1);r(B-1,A,y,x)})}f("#sv-getting-started-dialog-close-x",z).click(function(){z.hide();x(C,z)});f("#sv-getting-started-dialog-skip",z).click(function(){z.hide();x(C,z)})}}};var g=function(C,B,A,x){var E=B[C];var y;var z=0;var D=function(){if((f.isFunction(E.itemSelector)?E.itemSelector():f(E.itemSelector)).length>0){clearInterval(y);r(C,B,A,x)}else{z++;if(z>=10){clearInterval(y)}}};y=setInterval(D,100)};var e=function(A,z,x){if(A){var B="sv-getting-started-dialog-start";if((f.isFunction(A.itemSelector)?A.itemSelector():f(A.itemSelector)).length>0){var y=u(0,A,B,"singleHint",[A]);f("#sv-getting-started-dialog-close-x",y).click(function(){y.hide();x()});f("#sv-getting-started-dialog-later",y).click(function(){y.hide();z()});f("#sv-getting-started-dialog-skip",y).click(function(){y.hide();x()})}}};var u=function(A,B,C,x,z){var y=t(C,B.itemSelector,Scroll.Versions.Templates.GettingStarted[x]({index:A,hint:B,numberOfHints:z.length,showLater:(B.opts&&B.opts.showLater)?B.opts.showLater:false}),B.opts);if(B.postAction){B.postAction()}return y};function t(A,x,z,B){var C={onHover:false,noBind:true,persistent:true,addActiveClass:false,width:350};var x=f.isFunction(x)?x():f(x);var y=l.InlineDialog(x,A,function(E,D,F){E.css({padding:"10px"}).html(z);E.parent().addClass("sv-getting-started-hint");E.find("#sv-getting-started-dialog-skip-button").click(function(){y.hide()});F();return false},f.extend({},C,B||{}));y.show();f(window).bind("resize",function(){y.refresh()});return y}var i=function(x,A,B){var z;var y=new Scroll.Versions.Dialog({height:f(window).height()>900?800:f(window).height()-100,width:700,id:"sv-getting-started-dialog",suppressFormSubmit:true});y.addHeader(x);y.addPanel("Browse",Scroll.Versions.Templates.GettingStarted.createDialogForStartInUPM({featureSections:A,baseUrl:l.Meta.get("base-url")}),"sv-getting-started-dialog-panel");y.addLink("Cancel",function(){y.remove()},"sv-getting-started-dialog-cancel-button");l.Confluence.Binder.autocompleteSpace("#sv-getting-started-dialog");f("#sv-getting-started-dialog-start-button").click(function(C){C.preventDefault();if(z===""||z===undefined){f("#sv-getting-started-dialog-form-space-error").text("Please enter a valid space name");f("#sv-getting-started-dialog-form-space").focus()}else{f("#sv-getting-started-dialog-form-space-error").text("");B(z)}});f("#sv-getting-started-dialog").bind("selected.autocomplete-content",function(D,C){z=C.content.key});y.show()};var s=function(x){f.cookie(x+"-gotit",true,a)};var o=function(x){return f.cookie(x+"-gotit")==="true"};var h=function(x){f.cookie(x+"-gotit",true,{expires:1,path:"/"})};var b=function(y){var z=Scroll.Versions.AJS.getContextPath()+"/rest/scroll-versions/1.0";var x=z+"/getting-started/"+l.params.spaceKey;f.ajax({type:"GET",url:x,dataType:"json",success:function(A){y(A)},error:function(A){l.log("Error on getting further information about which Scroll addon is installed. Getting started will be skipped.")}})};var j=function(){var x=f("#content.page");if(x.length){if(x.hasClass("view")){return true}}return false};var m=function(x){return function(){if(Scroll.Versions.Utils.isDocumentationTheme()&&x.docTheme){return f(x.docTheme)}else{if(Scroll.Versions.Utils.isRefinedWikiTheme()&&x.refinedWikiTheme!=null){return f(x.refinedWikiTheme)}else{if(Scroll.Versions.Utils.isEnterpriseTheme()&&x.enterpriseTheme!=null){return f(x.enterpriseTheme)}else{return f(x.defaultTheme)}}}}};var q=function(){return j()&&(l.params.parentPageId===""||(c()&&Scroll.Versions.Context.page.isHomePage===true))};var c=function(){return Scroll.Versions!==undefined&&Scroll.Versions.Context!==undefined&&Scroll.Versions.Context.page!==undefined};var v=function(x){return x!==undefined&&x.currentUserCanAdminister};var n=function(x){return x!==undefined&&x["com.k15t.scroll.scroll-versions"]};var d=function(x){return x!==undefined&&x["com.k15t.scroll.scroll-translations"]};svHints={openSingleHint:e,setDone:s,isDone:o,setRemindLater:h,createThemeBasedSelector:m};l.toInit(function(){if(f("body").hasClass("dashboard")){w().startFromDashboard()}else{if(Scroll.Versions.Context&&Scroll.Versions.Context.space.config.isTargetSpace){return}if(w().isAllDone()||!q()){return}b(function(x){p=x.displayGettingStartedMessagesToUsers;k=x.displayGettingStartedMessagesToAdmins;if(n(x)){w().start(x)}else{if(d(x)){}}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.k15t.scroll.scroll-platform:getting-started-webresources', location = '/com/k15t/scroll/platform/ui/gettingstarted/getting-started.soy' */
// This file was automatically generated from getting-started.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Scroll.Versions.Templates.GettingStarted.
 */

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.GettingStarted == 'undefined') { Scroll.Versions.Templates.GettingStarted = {}; }


Scroll.Versions.Templates.GettingStarted.hint = function(opt_data, opt_ignored) {
  return '<table style="width: 100%"><tr><td style="width: 100%">' + ((opt_data.hint.title != null) ? '<h5 class="aui-nav-heading">' + soy.$$escapeHtml(opt_data.hint.title) + '</h5>' : '') + '<div class="sv-getting-started-hint-text">' + soy.$$escapeHtml(opt_data.hint.text) + '</div></td><td class="sv-getting-started-dialog-close-x"><span id="sv-getting-started-dialog-close-x">\u2715</span></td></tr><tr><td><div class="sv-getting-started-hint-nav-bar">' + ((opt_data.index + 1 < opt_data.numberOfHints) ? '<button id="sv-getting-started-dialog-next-button" class="aui-button">' + soy.$$escapeHtml('Next') + '</button>' + ((opt_data.index == 0) ? '<a href="#" id="sv-getting-started-dialog-skip">' + soy.$$escapeHtml('Got it') + '</a>' : '<button id="sv-getting-started-dialog-back-button" class="aui-button aui-button-link">' + soy.$$escapeHtml('Back') + '</button>') : '<button id="sv-getting-started-dialog-skip" class="aui-button aui-button-primary">' + soy.$$escapeHtml('Got it') + '</button><button id="sv-getting-started-dialog-back-button" class="aui-button aui-button-link">' + soy.$$escapeHtml('Back') + '</button>') + '</div></td><td style="vertical-align: bottom; padding-bottom: 5px;"><small>' + soy.$$escapeHtml(opt_data.index + 1) + '/' + soy.$$escapeHtml(opt_data.numberOfHints) + '</small></td></tr></table>';
};
if (goog.DEBUG) {
  Scroll.Versions.Templates.GettingStarted.hint.soyTemplateName = 'Scroll.Versions.Templates.GettingStarted.hint';
}


Scroll.Versions.Templates.GettingStarted.singleHint = function(opt_data, opt_ignored) {
  return '<table style="width: 100%"><tr><td style="width: 100%">' + ((opt_data.hint.title != null) ? '<h5 class="aui-nav-heading">' + opt_data.hint.title + '</h5>' : '') + '<div class="sv-getting-started-hint-text">' + opt_data.hint.text + '</div></td><td class="sv-getting-started-dialog-close-x"><span id="sv-getting-started-dialog-close-x">\u2715</span></td></tr><tr><td><div class="sv-getting-started-hint-nav-bar"><button id="sv-getting-started-dialog-skip" class="aui-button aui-button-link">' + 'Got it' + '</button>' + ((opt_data.showLater) ? '<a href="#" id="sv-getting-started-dialog-later">' + 'Remind me later' + '</a>' : '') + '</div></td><td style="vertical-align: bottom; padding-bottom: 5px;"></td></tr></table>';
};
if (goog.DEBUG) {
  Scroll.Versions.Templates.GettingStarted.singleHint.soyTemplateName = 'Scroll.Versions.Templates.GettingStarted.singleHint';
}


Scroll.Versions.Templates.GettingStarted.createDialogForStartInUPM = function(opt_data, opt_ignored) {
  var output = '<div class="aui-dialog2-content">';
  var featureSectionList57 = opt_data.featureSections;
  var featureSectionListLen57 = featureSectionList57.length;
  for (var featureSectionIndex57 = 0; featureSectionIndex57 < featureSectionListLen57; featureSectionIndex57++) {
    var featureSectionData57 = featureSectionList57[featureSectionIndex57];
    output += '<div class="aui-group aui-group-highlighted" style="padding-bottom: 25px"><div class="aui-item"><div class="aui-group aui-group-highlighted"><h4>' + soy.$$escapeHtml(featureSectionData57.title) + '</h4><p>' + soy.$$escapeHtml(featureSectionData57.description) + '</p></div></div><div class="aui-item"><img width="270px" style="border-radius: 5px;" src="' + soy.$$escapeHtml(opt_data.baseUrl) + '/download/resources/com.k15t.scroll.scroll-platform/getting-started-images/' + soy.$$escapeHtml(featureSectionData57.image) + '"/></div></div>';
  }
  output += '<form class="aui" id="sv-getting-started-dialog-space" style="height: 100px"><div style="float:left"><input style="width: 540px;" class="autocomplete-space text long-field" id="sv-getting-started-dialog-form-space" data-max="10" required data-none-message="No results" data-template="' + soy.$$escapeHtml(name) + '" placeholder="' + soy.$$escapeHtml('Type in a space name to start with Scroll Versions') + '"></div><div style="float:left; margin-left: 2px"><button id="sv-getting-started-dialog-start-button" class="aui-button aui-button-primary">' + soy.$$escapeHtml('Get Started') + '</button><div><div class="clear"></div></form></div>';
  return output;
};
if (goog.DEBUG) {
  Scroll.Versions.Templates.GettingStarted.createDialogForStartInUPM.soyTemplateName = 'Scroll.Versions.Templates.GettingStarted.createDialogForStartInUPM';
}

}catch(e){WRMCB(e)};